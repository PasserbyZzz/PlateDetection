# Dectection

- 目的：将车牌从图片中裁剪出来，并进行字符分割，分别传输给神经网络

- 思路：传统的OpenCV的方法

## 检测车牌并裁剪

### Step1:

调整图片比例，进行高斯去噪，并将图片转换为灰度图

### Step2:

进行形态变化，并将变化后的图像和灰度图两幅图像合成为一幅图像

### Step3:

先对图像进行阈值处理，再使用cv2.Canny函数进行边缘检测

### Step4:

查找图像边缘整体形成的矩形区域，可能有很多，可以根据长宽比例是否是2～2.5之间进行排除那些不是矩形的区域

### Step5:

矩形区域可能是倾斜的矩形，所以先进行矫正，然后根据颜色定位，排除不是车牌的矩形，目前只识别蓝、绿车牌

## 字符分割

### Step1:

将车牌转换为灰度图，并根据车牌颜色进行处理。由于黄、绿车牌字符比背景暗，蓝车牌刚好相反，所以黄、绿车牌需要进行反向处理

### Step2:

首先进行水平投影，将二值化的车牌图片水平投影到Y轴，得到连续投影最长的一段作为字符区域，因为车牌四周有白色的边缘，这里可以把水平方向上的连续白线过滤掉。
然后进行垂直投影，因为字符与字符之间总会分隔一段距离，因此可以作为水平分割的依据，分割后的字符宽度必须达到平均宽度才能算作一个字符，这里可以排除车牌第2、3字符中间的“.”
